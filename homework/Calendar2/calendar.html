<html>

<head>
  <link rel="stylesheet" href="calendar.css">

  <div class="calendar">
    <div class="title">
      <h1 class="green small" id="year">year</h1>
      <h2 class="green" id="month">month</h2>
      <a class="pre" href="" id="prev">&#10094;</a>
      <a class="next" href="" id="next">&#10095;</a>
    </div>
</head>

<body>
  <div class="body">
    <div class="lightgrey body-list">
      <ul>
        <li>MON</li>
        <li>TUE</li>
        <li>WED</li>
        <li>THU</li>
        <li>FRI</li>
        <li>SAT</li>
        <li>SUN</li>
      </ul>
    </div>
    <div class="darkgrey body-list">
      <ul id="days">
      </ul>
    </div>
    <div class="list" id="list"></div>

    <script>
      //資料
      let state = null;
      //初始化
      function init() {
        state = {
          current: new Date()//當前時間
        }
        render()
      }
      //根據資料產生畫面
      function render() {
        let year = document.querySelector("#year")
        year.textContent = state.current.getFullYear()
        let month = document.querySelector("#month")
        month.textContent = state.current.getMonth() + 1
        let list = document.querySelector("#list")
       
          //取得月第一天
          let date = new Date(state.current.getFullYear(), state.current.getMonth(), 1);//new Date(year,day,hours,minutes,seconds,milliseconds)指定時間
        //往前算到星期日
        date.setDate(date.getDate() - date.getDay)
        //畫出上個月的後幾天 
        while (date < state.current) {
          renderdate(date, list)
          //加一天
          date.setDate(date.getDate() + 1)
        }
        //畫出一天的格子
        while (state.current.getMonth() === date.getMonth()) {
          renderdate(date, list)
          //加一天
          date.setDate(date.getDate() + 1)
        }
      }
      function renderdate(date, list) {
        let cell = document.createElement("div")
        cell.className = "date"
        cell.textContent = date.getDate()
        list.appendChild(cell)
      }
      //controller
      init();
    </script>




</body>

</html>